# Harborix 開発ルール

このファイルはClaude Codeがこのリポジトリで作業する際のルールを定義する。

## セキュリティルール（厳守）

セキュリティは最優先事項である。以下のルールに違反するコードは絶対に書かない。

### 機密情報

- `.env`、APIキー、パスワード、トークン、秘密鍵は**絶対にコミット禁止**
- 機密情報は環境変数でのみ管理する
- サンプル設定は`.env.example`として提供（実際の値は含めない）
- 機密情報らしき文字列を発見した場合は即座に警告する

### コーディング時のセキュリティ

OWASP Top 10を常に意識し、以下を徹底する。

- **入力検証**: すべてのユーザー入力を検証・サニタイズする
- **SQLインジェクション対策**: パラメータ化クエリのみ使用する
- **XSS対策**: 出力時に適切にエスケープする
- **認証・認可**: 適切なアクセス制御を実装する
- **依存関係**: 既知の脆弱性がある依存関係は使用しない

### セキュリティレビュー

コード変更時は以下を確認する。

- ハードコードされた認証情報がないか
- 安全でないデシリアライゼーションがないか
- 適切なエラーハンドリングで情報漏洩がないか

## コミットルール

- 日本語で記述する
- 変更内容を簡潔に説明する
- 1コミット1目的（小さく頻繁にコミット）
- 機密情報を含むコミットは禁止

## マークダウン記法

MarkdownLintに従う。主要なルールは以下の通り。

- ファイル末尾には空行を1つ入れる（MD047）
- 見出しの前後には空行を入れる（MD022）
- リストの前後には空行を入れる（MD032）
- コードブロックには言語を指定する（MD040）
- 連続する空行は禁止（MD012）

## ドキュメント命名規則

| フェーズ   | プレフィックス |
| ---------- | -------------- |
| 要件定義   | REQ-XXX_       |
| 基本設計   | BSD-XXX_       |
| 詳細設計   | DSD-XXX_       |
| テスト     | TST-XXX_       |
